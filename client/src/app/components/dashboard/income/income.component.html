<div class="p-6 bg-white shadow-lg rounded-lg max-w-4xl mx-auto">
    <h2 class="text-2xl font-bold mb-4 flex items-center justify-center">
        <span>ðŸ’° Income by Category</span>
    </h2>

    <!-- Total Expense Summary -->
    <div class="mb-6 text-center">
        <h3 class="text-xl font-semibold text-gray-700">Total Expenses: ${{ totalincome }}</h3>
    </div>

    <!-- Pie Chart Centered -->
    <div class="flex justify-center mb-6">
        <canvas id="spendingChart" width="280" height="280"></canvas>
    </div>

    <!-- ðŸ”¹ Stylish Expense Breakdown Table -->
    <div *ngIf="selectedsourceBreakdown.length > 0"
        class="mt-10 p-6 bg-gradient-to-br from-blue-50 to-blue-100 shadow-xl rounded-lg border border-blue-300 max-w-4xl mx-auto"
        style="display: flex; flex-direction: column; align-items: center;">

        <!-- Category Title -->
        <h3 class="text-2xl font-bold mb-5 text-gray-900 flex items-center">
            <span class="mr-2 text-blue-600">ðŸ“Š</span> Breakdown for
            <span class="ml-2 text-blue-800">{{ selectedsource }}</span>
        </h3>

        <!-- Expense Table with Centering & Spacing -->
        <div class="overflow-hidden border border-gray-300 shadow-md rounded-lg w-full">
            <table class="w-full bg-white text-left border-collapse">
                <thead>
                    <tr class="bg-blue-600 text-white text-lg">
                        <th class="p-4 text-center">Date</th>
                        <th class="p-4 text-center">Description</th>
                        <th class="p-4 text-center">Amount</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let expense of selectedsourceBreakdown" class="border-b transition hover:bg-blue-50">
                        <td class="p-4 text-gray-600 text-center">{{ expense.date | date:'MMM d, y' }}</td>
                        <td class="p-4 text-gray-700 text-center">{{ expense.description }}</td>
                        <td class="p-4 font-bold text-blue-700 text-center">${{ expense.amount }}</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Total Amount with Floating Style -->
        <div
            class="mt-6 p-5 text-lg font-semibold bg-blue-100 text-blue-800 rounded-lg flex justify-between shadow-md border border-blue-400 w-full">
            <span>ðŸ’° Total Earned:</span>
            <span>${{ selectedsourceTotal }}</span>
        </div>
    </div>

</div>